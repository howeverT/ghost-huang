import{d as B,r as v,c as D,o as I,a as n,e as L,t as h,b as e,l as m,k as T,F as k,f as w,i as V,h as a,_ as P}from"./index-DsjOOODS.js";import{a as E,g as s}from"./pathUtils-DhIhMTi_.js";const F={class:"collection-page"},M={key:0,class:"loading"},N={key:1,class:"error"},z={key:2,class:"content-container"},R={class:"left-section"},S=["src","alt"],q={class:"right-section"},A={class:"title"},H={class:"date"},J={class:"description"},K={class:"links-section"},O={class:"subtitle"},Q={class:"links-list"},U=["href"],W={class:"arrow-navigation"},X=["disabled"],Y=["disabled"],Z=B({__name:"CollectionView",setup($){const o=V(),f=v(!0),_=v(""),r=v([]),i=v(0),u=v(!0),l=v(!1),d=D(()=>r.value.length===0?null:r.value[i.value]),b=async()=>{try{f.value=!0,_.value="";let t=s("collection/haoshengyin.json");o.path==="/collection/haoshengyin"?t=s("collection/haoshengyin.json"):o.path==="/collection/tianci"?t=s("collection/tianci.json"):o.path==="/collection/liutang"?t=s("collection/liutang.json"):o.path==="/collection/oursong"?t=s("collection/oursong.json"):o.path==="/collection/singer"?t=s("collection/singer.json"):o.path==="/collection/hit"?t=s("collection/hit.json"):o.path==="/collection/fresh"?t=s("collection/fresh.json"):o.path==="/collection/mask"&&(t=s("collection/mask.json"));const c=await fetch(t);if(!c.ok)throw new Error("Failed to fetch data");const g=await c.json();r.value=g,console.log("成功加载数据:",g)}catch(t){console.error("加载数据失败:",t),_.value=t instanceof Error?t.message:"加载数据失败"}finally{f.value=!1}},j=()=>{l.value||i.value>=r.value.length-1||(l.value=!0,u.value=!1,setTimeout(()=>{i.value++,setTimeout(()=>{u.value=!0,l.value=!1},100)},300))},y=()=>{l.value||i.value<=0||(l.value=!0,u.value=!1,setTimeout(()=>{i.value--,setTimeout(()=>{u.value=!0,l.value=!1},100)},300))};return I(()=>{b()}),(t,c)=>(a(),n("div",F,[f.value?(a(),n("div",M,"加载中...")):_.value?(a(),n("div",N,h(_.value),1)):r.value.length>0?(a(),n("div",z,[e("div",R,[e("div",{class:m(["image-container",{visible:u.value}])},[e("img",{src:T(E)(d.value?.image[0]||"/src/assets/background/background.jpg"),alt:d.value?.title,class:"main-image"},null,8,S)],2)]),e("div",q,[e("div",{class:m(["content-wrapper",{visible:u.value}])},[e("h1",A,h(d.value?.title),1),e("p",H,h(d.value?.date),1),e("p",J,h(d.value?.description),1),e("div",K,[(a(!0),n(k,null,w(d.value?.links,(g,x)=>(a(),n("div",{key:x,class:"link-group"},[e("h3",O,h(g.subtitle),1),e("div",Q,[(a(!0),n(k,null,w(g.links,(p,C)=>(a(),n("a",{key:C,href:p.link,target:"_blank",rel:"noopener noreferrer",class:"link-item"},h(p.link_title),9,U))),128))])]))),128))])],2),e("div",W,[e("button",{onClick:y,disabled:i.value===0||l.value,class:"arrow-btn up-arrow",title:"上一项"},c[0]||(c[0]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M7 14L12 9L17 14",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),8,X),e("button",{onClick:j,disabled:i.value===r.value.length-1||l.value,class:"arrow-btn down-arrow",title:"下一项"},c[1]||(c[1]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M7 10L12 15L17 10",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),8,Y)])])])):L("",!0)]))}}),te=P(Z,[["__scopeId","data-v-e52bb0b7"]]);export{te as default};

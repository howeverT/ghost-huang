import{d as B,r as v,c as D,o as L,a as n,e as T,t as h,b as e,k as m,F as k,f as w,i as V,h as a,_ as I}from"./index-CkSPqq_n.js";import{g as o}from"./pathUtils-jOM0BC_N.js";const E={class:"collection-page"},F={key:0,class:"loading"},M={key:1,class:"error"},P={key:2,class:"content-container"},N={class:"left-section"},z=["src","alt"],R={class:"right-section"},S={class:"title"},q={class:"date"},A={class:"description"},H={class:"links-section"},J={class:"subtitle"},K={class:"links-list"},O=["href"],Q={class:"arrow-navigation"},U=["disabled"],W=["disabled"],X=B({__name:"CollectionView",setup(Y){const s=V(),f=v(!0),g=v(""),r=v([]),i=v(0),u=v(!0),l=v(!1),d=D(()=>r.value.length===0?null:r.value[i.value]),b=async()=>{try{f.value=!0,g.value="";let t=o("collection/haoshengyin.json");s.path==="/collection/haoshengyin"?t=o("collection/haoshengyin.json"):s.path==="/collection/tianci"?t=o("collection/tianci.json"):s.path==="/collection/liutang"?t=o("collection/liutang.json"):s.path==="/collection/oursong"?t=o("collection/oursong.json"):s.path==="/collection/singer"?t=o("collection/singer.json"):s.path==="/collection/hit"?t=o("collection/hit.json"):s.path==="/collection/fresh"?t=o("collection/fresh.json"):s.path==="/collection/mask"&&(t=o("collection/mask.json"));const c=await fetch(t);if(!c.ok)throw new Error("Failed to fetch data");const _=await c.json();r.value=_,console.log("成功加载数据:",_)}catch(t){console.error("加载数据失败:",t),g.value=t instanceof Error?t.message:"加载数据失败"}finally{f.value=!1}},j=()=>{l.value||i.value>=r.value.length-1||(l.value=!0,u.value=!1,setTimeout(()=>{i.value++,setTimeout(()=>{u.value=!0,l.value=!1},100)},300))},y=()=>{l.value||i.value<=0||(l.value=!0,u.value=!1,setTimeout(()=>{i.value--,setTimeout(()=>{u.value=!0,l.value=!1},100)},300))};return L(()=>{b()}),(t,c)=>(a(),n("div",E,[f.value?(a(),n("div",F,"加载中...")):g.value?(a(),n("div",M,h(g.value),1)):r.value.length>0?(a(),n("div",P,[e("div",N,[e("div",{class:m(["image-container",{visible:u.value}])},[e("img",{src:d.value?.image[0]||"/src/assets/background/background.jpg",alt:d.value?.title,class:"main-image"},null,8,z)],2)]),e("div",R,[e("div",{class:m(["content-wrapper",{visible:u.value}])},[e("h1",S,h(d.value?.title),1),e("p",q,h(d.value?.date),1),e("p",A,h(d.value?.description),1),e("div",H,[(a(!0),n(k,null,w(d.value?.links,(_,x)=>(a(),n("div",{key:x,class:"link-group"},[e("h3",J,h(_.subtitle),1),e("div",K,[(a(!0),n(k,null,w(_.links,(p,C)=>(a(),n("a",{key:C,href:p.link,target:"_blank",rel:"noopener noreferrer",class:"link-item"},h(p.link_title),9,O))),128))])]))),128))])],2),e("div",Q,[e("button",{onClick:y,disabled:i.value===0||l.value,class:"arrow-btn up-arrow",title:"上一项"},c[0]||(c[0]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M7 14L12 9L17 14",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),8,U),e("button",{onClick:j,disabled:i.value===r.value.length-1||l.value,class:"arrow-btn down-arrow",title:"下一项"},c[1]||(c[1]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M7 10L12 15L17 10",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),8,W)])])])):T("",!0)]))}}),G=I(X,[["__scopeId","data-v-7b4f8dc0"]]);export{G as default};

import{_ as C}from"./OverlapSecondSection-DLXzwbm1.js";import{a as I}from"./pathUtils-DhIhMTi_.js";import{d as E,r as _,c as d,a as i,e as P,b as e,t as l,F as p,f as g,l as j,n as T,k as S,h as o,_ as z}from"./index-DX98Zpp_.js";const D={class:"concert-item-section"},F={key:0,class:"section-title"},H={key:1,class:"tabs-section"},L={class:"tabs-list"},N=["onClick"],V={class:"tab-label"},M={class:"items-container"},O={class:"left-column"},R=["onClick"],G={class:"item-image"},J={class:"item-text"},K={class:"item-title"},Q={class:"item-date"},U={class:"right-column"},W=["onClick"],X={class:"item-image"},Z={class:"item-text"},tt={class:"item-title"},et={class:"item-date"},st={class:"pagination-controls"},nt=["disabled"],at={class:"page-info"},it=["disabled"],b=6,ot=E({__name:"ConcertItemSection",props:{items:{},title:{},tabs:{}},setup(x){const c=x,m=_(c.tabs&&c.tabs.length>0?c.tabs[0].id:""),a=_(0),r=_(!1),y=d(()=>{if(c.tabs&&c.tabs.length>0){const s=c.tabs.find(t=>t.id===m.value);return s?s.items:[]}return c.items}),v=d(()=>Math.ceil(y.value.length/b)),f=d(()=>{const s=a.value*b,t=s+b;return y.value.slice(s,t)}),$=d(()=>f.value.filter((s,t)=>t%2===0)),q=d(()=>f.value.filter((s,t)=>t%2===1)),Y=s=>{if(m.value!==s){const t=document.querySelector(".concert-item-section .items-container"),n=document.querySelector(".concert-item-section .tab-item.active");t&&(t.style.transition="opacity 0.3s ease, transform 0.3s ease",t.style.opacity="0",t.style.transform="translateY(20px)"),n&&n.style.setProperty("--brush-opacity","0"),setTimeout(()=>{m.value=s,a.value=0,setTimeout(()=>{const u=document.querySelector(".concert-item-section .tab-item.active");u&&u.style.setProperty("--brush-opacity","1"),t&&(t.style.opacity="1",t.style.transform="translateY(0)")},100)},300)}},w=()=>{r.value||a.value<=0||h(()=>{a.value--})},A=()=>{r.value||a.value>=v.value-1||h(()=>{a.value++})},h=s=>{const t=document.querySelector(".concert-item-section .items-container");r.value=!0,t?(t.style.transition="opacity 0.3s ease, transform 0.3s ease",t.style.opacity="0",t.style.transform="translateY(20px)",setTimeout(()=>{s(),setTimeout(()=>{t&&(t.style.opacity="1",t.style.transform="translateY(0)"),r.value=!1},50)},300)):(s(),r.value=!1)},k=s=>{s.url&&window.open(s.url,"_blank")};return(s,t)=>(o(),i("div",D,[s.title?(o(),i("div",F,[e("h2",null,l(s.title),1),t[0]||(t[0]=e("p",{class:"section-description"},"首页仅显示6个视频链接，可下拉点击下面的箭头来切换页数",-1))])):P("",!0),s.tabs&&s.tabs.length>0?(o(),i("div",H,[e("div",L,[(o(!0),i(p,null,g(s.tabs,n=>(o(),i("div",{key:n.id,class:j(["tab-item",{active:m.value===n.id}]),onClick:u=>Y(n.id)},[e("span",V,l(n.label),1)],10,N))),128))])])):P("",!0),e("div",M,[e("div",O,[(o(!0),i(p,null,g($.value,(n,u)=>(o(),i("div",{key:u,class:"item-content",onClick:B=>k(n)},[e("div",G,[e("div",{class:"image-bg",style:T({backgroundImage:`url(${S(I)(n.image||"/src/assets/background/History2024.jpg")})`})},null,4)]),e("div",J,[e("h3",K,l(n.title),1),e("p",Q,l(n.date),1)])],8,R))),128))]),e("div",U,[(o(!0),i(p,null,g(q.value,(n,u)=>(o(),i("div",{key:u,class:"item-content",onClick:B=>k(n)},[e("div",X,[e("div",{class:"image-bg",style:T({backgroundImage:`url(${S(I)(n.image||"/src/assets/background/History2024.jpg")})`})},null,4)]),e("div",Z,[e("h3",tt,l(n.title),1),e("p",et,l(n.date),1)])],8,W))),128))])]),e("div",st,[e("button",{class:"pagination-btn prev-btn",disabled:a.value===0||r.value,onClick:w},t[1]||(t[1]=[e("img",{src:C,alt:"上一页",class:"chevron-icon prev-icon"},null,-1)]),8,nt),e("span",at,l(a.value+1)+" / "+l(v.value),1),e("button",{class:"pagination-btn next-btn",disabled:a.value===v.value-1||r.value,onClick:A},t[2]||(t[2]=[e("img",{src:C,alt:"下一页",class:"chevron-icon next-icon"},null,-1)]),8,it)])]))}}),ut=z(ot,[["__scopeId","data-v-d022251d"]]);export{ut as C};

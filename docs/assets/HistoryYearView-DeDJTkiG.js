import{d as k,r as p,c as f,o as b,i as E,w as O,a as i,e as S,t as v,F as h,f as T,j as s,g as l,b as w,h as e,_ as D}from"./index-CUpd_P7g.js";import{H as I,O as V,T as C}from"./OverlapSecondSection-Dr9QsMVL.js";import{C as P}from"./ConcertItemSection-CmPOuob8.js";import{T as j,C as A,O as R}from"./ContentSection-B09V7TDm.js";import"./pathUtils-DhIhMTi_.js";const L=(y,_,c)=>{const r=y[_];return r?typeof r=="function"?r():Promise.resolve(r):new Promise((n,u)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(u.bind(null,new Error("Unknown variable dynamic import: "+_+(_.split("/").length!==c?". Note that variables only represent file names one level deep.":""))))})},H={class:"history-year-page"},x={key:0,class:"loading"},B={key:1,class:"error"},M={key:2,class:"history-content"},N={key:7,class:"unknown-component"},q=k({__name:"HistoryYearView",setup(y){const _=E(),c=p(!0),r=p(""),n=p(null),u=f(()=>n.value?[...n.value.content].sort((a,o)=>a.index-o.index):[]),g=async a=>{try{c.value=!0,r.value="";let o;if(a==="2024")o=await s(()=>import("./history_2024-CdXPvoe-.js"),[]);else try{o=await L(Object.assign({"../assets/page_data/history/history_2020.json":()=>s(()=>import("./history_2020-D8dWFoYd.js"),[]),"../assets/page_data/history/history_2021.json":()=>s(()=>import("./history_2021-CVO2e-ro.js"),[]),"../assets/page_data/history/history_2022.json":()=>s(()=>import("./history_2022-doUPYSkE.js"),[]),"../assets/page_data/history/history_2023.json":()=>s(()=>import("./history_2023-CIz0S3_K.js"),[]),"../assets/page_data/history/history_2024.json":()=>s(()=>import("./history_2024-CdXPvoe-.js"),[]),"../assets/page_data/history/history_2025.json":()=>s(()=>import("./history_2025-C0zp6ira.js"),[]),"../assets/page_data/history/history_new.json":()=>s(()=>import("./history_new-Bh5GeUmX.js"),[])}),`../assets/page_data/history/history_${a}.json`,5)}catch{throw new Error(`年份 ${a} 的数据文件不存在`)}if(Array.isArray(o.default)?n.value=o.default[0]:n.value=o.default,!n.value)throw new Error("数据格式错误")}catch(o){console.error("加载年份数据失败:",o),r.value=o instanceof Error?o.message:"加载数据失败"}finally{c.value=!1}};return b(()=>{const a=_.params.year;a?g(a):(r.value="年份参数缺失",c.value=!1)}),O(()=>_.params.year,a=>{a&&g(a)}),(a,o)=>(e(),i("div",H,[c.value?(e(),i("div",x,"加载中...")):r.value?(e(),i("div",B,v(r.value),1)):n.value?(e(),i("div",M,[(e(!0),i(h,null,T(u.value,(t,m)=>(e(),i(h,{key:m},[t.type==="HeroSection"?(e(),l(I,{key:0,"background-image":t.background_image,title:t.title,"title-align":t.title_align,"title-margin":t.title_margin},null,8,["background-image","title","title-align","title-margin"])):t.type==="OverlapSecondSection"?(e(),l(V,{key:1,title:t.title||"",content:t.content||"","background-image":t.background_image||"",links:t.links||[]},null,8,["title","content","background-image","links"])):t.type==="ConcertItemSection"?(e(),l(P,{key:2,items:t.items||[],title:t.title,tabs:t.tabs},null,8,["items","title","tabs"])):t.type==="TabbedContentSection"?(e(),l(C,{key:3,tabs:t.tabs||[],title:t.title||""},null,8,["tabs","title"])):t.type==="ThumbnailGrid"?(e(),l(j,{key:4,items:(t.items||[]).map(d=>({image:d.image||"",title:d.title,link:d.url})),title:t.title||""},null,8,["items","title"])):t.type==="ContentSection"?(e(),l(A,{key:5,title:t.title||"",paragraphs:t.paragraphs||[]},null,8,["title","paragraphs"])):t.type==="OverlapSection"?(e(),l(R,{key:6,title:t.title||"",content:t.content||"","image-url":t.image_url||"","button-link":t.button_link||""},null,8,["title","content","image-url","button-link"])):(e(),i("div",N,[w("p",null,"未知组件类型: "+v(t.type),1)]))],64))),128))])):S("",!0)]))}}),J=D(q,[["__scopeId","data-v-6f2d34a6"]]);export{J as default};

import{d as m,r as p,c as f,o as b,i as E,a as i,e as O,t as g,F as v,f as S,j as s,g as l,b as T,h as e,_ as w}from"./index-CkSPqq_n.js";import{H as D,O as I,T as V}from"./OverlapSecondSection-DI8GOlR0.js";import{C}from"./ConcertItemSection-BtTFTdQZ.js";import{T as P,C as j,O as A}from"./ContentSection-Bs8JDY_p.js";const R=(y,c,_)=>{const o=y[c];return o?typeof o=="function"?o():Promise.resolve(o):new Promise((n,u)=>{(typeof queueMicrotask=="function"?queueMicrotask:setTimeout)(u.bind(null,new Error("Unknown variable dynamic import: "+c+(c.split("/").length!==_?". Note that variables only represent file names one level deep.":""))))})},L={class:"history-year-page"},H={key:0,class:"loading"},x={key:1,class:"error"},B={key:2,class:"history-content"},M={key:7,class:"unknown-component"},N=m({__name:"HistoryYearView",setup(y){const c=E(),_=p(!0),o=p(""),n=p(null),u=f(()=>n.value?[...n.value.content].sort((r,a)=>r.index-a.index):[]),h=async r=>{try{_.value=!0,o.value="";let a;if(r==="2024")a=await s(()=>import("./history_2024-CdXPvoe-.js"),[]);else try{a=await R(Object.assign({"../assets/page_data/history/history_2020.json":()=>s(()=>import("./history_2020-D8dWFoYd.js"),[]),"../assets/page_data/history/history_2021.json":()=>s(()=>import("./history_2021-CVO2e-ro.js"),[]),"../assets/page_data/history/history_2022.json":()=>s(()=>import("./history_2022-doUPYSkE.js"),[]),"../assets/page_data/history/history_2023.json":()=>s(()=>import("./history_2023-CIz0S3_K.js"),[]),"../assets/page_data/history/history_2024.json":()=>s(()=>import("./history_2024-CdXPvoe-.js"),[]),"../assets/page_data/history/history_2025.json":()=>s(()=>import("./history_2025-C0zp6ira.js"),[]),"../assets/page_data/history/history_new.json":()=>s(()=>import("./history_new-Bh5GeUmX.js"),[])}),`../assets/page_data/history/history_${r}.json`,5)}catch{throw new Error(`年份 ${r} 的数据文件不存在`)}if(Array.isArray(a.default)?n.value=a.default[0]:n.value=a.default,!n.value)throw new Error("数据格式错误")}catch(a){console.error("加载年份数据失败:",a),o.value=a instanceof Error?a.message:"加载数据失败"}finally{_.value=!1}};return b(()=>{const r=c.params.year;r?h(r):(o.value="年份参数缺失",_.value=!1)}),(r,a)=>(e(),i("div",L,[_.value?(e(),i("div",H,"加载中...")):o.value?(e(),i("div",x,g(o.value),1)):n.value?(e(),i("div",B,[(e(!0),i(v,null,S(u.value,(t,k)=>(e(),i(v,{key:k},[t.type==="HeroSection"?(e(),l(D,{key:0,"background-image":t.background_image,title:t.title,"title-align":t.title_align,"title-margin":t.title_margin},null,8,["background-image","title","title-align","title-margin"])):t.type==="OverlapSecondSection"?(e(),l(I,{key:1,title:t.title||"",content:t.content||"","background-image":t.background_image||"",links:t.links||[]},null,8,["title","content","background-image","links"])):t.type==="ConcertItemSection"?(e(),l(C,{key:2,items:t.items||[],title:t.title,tabs:t.tabs},null,8,["items","title","tabs"])):t.type==="TabbedContentSection"?(e(),l(V,{key:3,tabs:t.tabs||[],title:t.title||""},null,8,["tabs","title"])):t.type==="ThumbnailGrid"?(e(),l(P,{key:4,items:(t.items||[]).map(d=>({image:d.image||"",title:d.title,link:d.url})),title:t.title||""},null,8,["items","title"])):t.type==="ContentSection"?(e(),l(j,{key:5,title:t.title||"",paragraphs:t.paragraphs||[]},null,8,["title","paragraphs"])):t.type==="OverlapSection"?(e(),l(A,{key:6,title:t.title||"",content:t.content||"","image-url":t.image_url||"","button-link":t.button_link||""},null,8,["title","content","image-url","button-link"])):(e(),i("div",M,[T("p",null,"未知组件类型: "+g(t.type),1)]))],64))),128))])):O("",!0)]))}}),U=w(N,[["__scopeId","data-v-f58fb9b8"]]);export{U as default};

import{d as m,r as u,c as S,o as C,a,b as i,e as _,F as d,f as y,t as v,g as l,u as w,h as o,_ as H}from"./index-DX98Zpp_.js";import{g as x}from"./pathUtils-DhIhMTi_.js";import{H as B,T as D,O as T}from"./OverlapSecondSection-DLXzwbm1.js";import{C as V}from"./ConcertItemSection-BJRbZjAl.js";const E={class:"history-page"},F={class:"year-navigation"},I={class:"year-buttons"},O=["onClick"],j={key:0,class:"loading"},N={key:1,class:"error"},P={key:2,class:"history-content"},Y=m({__name:"HistoryView",setup($){const c=u(!0),s=u(""),r=u(null),k=w(),p=["2024","2023"],b=e=>{k.push(`/history/${e}`)},h=S(()=>r.value?.content?[...r.value.content].sort((e,n)=>e.index-n.index):[]),f=async()=>{try{c.value=!0,s.value="";const e=await fetch(x("history/history_2024.json"));if(!e.ok)throw new Error("Failed to fetch history data");const n=await e.json();r.value=n}catch(e){s.value=e instanceof Error?e.message:"加载数据失败",console.error("加载历史数据失败:",e)}finally{c.value=!1}};return C(()=>{f()}),(e,n)=>(o(),a("div",E,[i("div",F,[n[0]||(n[0]=i("h2",null,"选择年份查看历史内容",-1)),i("div",I,[(o(),a(d,null,y(p,t=>i("button",{key:t,onClick:g=>b(t),class:"year-btn"},v(t)+"年 ",9,O)),64))])]),c.value?(o(),a("div",j,"加载中...")):s.value?(o(),a("div",N,v(s.value),1)):r.value?(o(),a("div",P,[(o(!0),a(d,null,y(h.value,(t,g)=>(o(),a(d,{key:g},[t.type==="HeroSection"?(o(),l(B,{key:0,"background-image":t.background_image,title:t.title,"title-align":t.title_align,"title-margin":t.title_margin},null,8,["background-image","title","title-align","title-margin"])):t.type==="TabbedContentSection"?(o(),l(D,{key:1,tabs:t.tabs||[],title:t.title||""},null,8,["tabs","title"])):t.type==="OverlapSecondSection"?(o(),l(T,{key:2,title:t.title||"",content:t.content||"","background-image":t.background_image||"",links:t.links||[]},null,8,["title","content","background-image","links"])):t.type==="ConcertItemSection"?(o(),l(V,{key:3,items:t.items||[],title:t.title,tabs:t.tabs},null,8,["items","title","tabs"])):_("",!0)],64))),128))])):_("",!0)]))}}),z=H(Y,[["__scopeId","data-v-f030b687"]]);export{z as default};

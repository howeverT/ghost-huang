import{d as v,a,b as o,n as C,t as u,e as k,F as h,f as b,h as e,_ as S,i as x,r as y,c as z,o as I,g as c}from"./index-PzkWDZuX.js";import{H as O,O as A,T as B}from"./OverlapSecondSection-OxVB6xdz.js";import{C as D,O as E,T as V}from"./ContentSection-BSb_POjx.js";import{C as F}from"./ConcertItemSection-DZCscGqc.js";const H={class:"title-section"},P={class:"title-wrapper"},G={class:"main-content"},N={class:"polaroid-section"},R={class:"polaroid-frame"},L={class:"polaroid-caption"},M={class:"content-section"},q={class:"header-section"},J={class:"title-text"},K={key:0,class:"subtitle-text"},Q={class:"playlist-section"},U={class:"part-title"},W={class:"song-list"},X=v({__name:"TitleSection",props:{titleText:{default:"成都站歌单"},picture:{default:"/src/assets/background/Chengdu.jpg"},pictureTitle:{default:"成都印象"},subtitle:{default:"成都东安湖体育公园多功能体育馆 - 2025/05/24"},content:{default:()=>[]}},setup($){return(l,s)=>(e(),a("div",H,[o("div",P,[o("div",G,[o("div",N,[o("div",R,[o("div",{class:"polaroid-image",style:C({backgroundImage:`url(${l.picture})`})},null,4),o("div",L,u(l.pictureTitle),1)])]),o("div",M,[o("div",q,[o("h2",J,u(l.titleText),1),l.subtitle?(e(),a("div",K,u(l.subtitle),1)):k("",!0)]),o("div",Q,[(e(!0),a(h,null,b(l.content,(d,_)=>(e(),a("div",{key:_,class:"playlist-column"},[o("h3",U,u(d.tab),1),o("ul",W,[(e(!0),a(h,null,b(d.song,(p,r)=>(e(),a("li",{key:r,class:"song-item"},u(p),1))),128))])]))),128))])])])])]))}}),Y=S(X,[["__scopeId","data-v-70518596"]]),Z={class:"concert-page"},tt={key:0,class:"loading"},et={key:1,class:"error"},nt={key:2,class:"concert-content"},st={key:8,class:"unknown-component"},ot=v({__name:"ConcertView",setup($){const l=x(),s=l.params.city,d=l.path.includes("/open/")?"open":"universe",_=y(!0),p=y(""),r=y(null),m=z(()=>r.value?.content?[...r.value.content].sort((n,i)=>n.index-i.index):[]),T=n=>n===2||n===4?2:n===6?3:2,w=async()=>{try{_.value=!0,p.value="";const n=`/src/assets/page_data/concert/${d}`;let i=`${n}/concert_new.json`;d==="universe"?s==="beijing"||s==="beijing2024"?i=`${n}/concert_beijing2024.json`:s==="guangzhou"||s==="guangzhou2025"?i=`${n}/concert_guangzhou2025.json`:s==="chengdu"||s==="chengdu2025"?i=`${n}/concert_chengdu2025.json`:s==="shanghai"||s==="shanghai2025"?i=`${n}/concert_shanghai2025.json`:(s==="ningbo"||s==="ningbo2025")&&(i=`${n}/concert_ningbo2025.json`):d==="open"&&(s==="guangzhou"||s==="guangzhou2023")&&(i=`${n}/concert_guangzhou2023.json`);const t=await fetch(i);if(!t.ok)throw new Error(`Failed to fetch concert data: ${t.status} ${t.statusText}`);const g=await t.json();if(Array.isArray(g)){const f=g.find(j=>j.title===s);if(!f)throw new Error(`未找到城市 ${s} 的音乐会数据`);r.value=f}else r.value=g}catch(n){p.value=n instanceof Error?n.message:"加载数据失败",console.error("加载音乐会数据失败:",n)}finally{_.value=!1}};return I(()=>{w()}),(n,i)=>(e(),a("div",Z,[_.value?(e(),a("div",tt,"加载中...")):p.value?(e(),a("div",et,u(p.value),1)):r.value?(e(),a("div",nt,[(e(!0),a(h,null,b(m.value,(t,g)=>(e(),a(h,{key:g},[t.type==="HeroSection"?(e(),c(O,{key:0,"background-image":t.background_image,title:t.title,"title-align":t.title_align,"title-margin":t.title_margin},null,8,["background-image","title","title-align","title-margin"])):t.type==="ContentSection"?(e(),c(D,{key:1,title:t.title,paragraphs:t.paragraphs},null,8,["title","paragraphs"])):t.type==="TitleSection"?(e(),c(Y,{key:2,"title-text":t.title_text||"",subtitle:t.subtitle||"",picture:t.picture||"","picture-title":t.picture_title||"",content:Array.isArray(t.content)?t.content:[]},null,8,["title-text","subtitle","picture","picture-title","content"])):t.type==="OverlapSection"?(e(),c(E,{key:3,title:t.title,content:t.content,"image-url":t.image_url,"button-link":t.button_link},null,8,["title","content","image-url","button-link"])):t.type==="OverlapSecondSection"?(e(),c(A,{key:4,title:t.title||"",content:t.content||"","background-image":t.background_image||"",links:t.links||[]},null,8,["title","content","background-image","links"])):t.type==="ConcertItemSection"?(e(),c(F,{key:5,items:t.items||[],title:t.title,tabs:t.tabs},null,8,["items","title","tabs"])):t.type==="TabbedContentSection"?(e(),c(B,{key:6,tabs:t.tabs||[],title:t.title||""},null,8,["tabs","title"])):t.type==="ThumbnailGrid"?(e(),c(V,{key:7,items:t.items,title:t.title,"items-per-row":T(t.items?.length||0)},null,8,["items","title","items-per-row"])):(e(),a("div",st,[o("p",null,"未知组件类型: "+u(t.type),1)]))],64))),128))])):k("",!0)]))}}),rt=S(ot,[["__scopeId","data-v-f4fbd831"]]);export{rt as default};

import{d as m,r as u,c as S,o as C,a,b as l,e as g,F as d,f as y,t as v,g as i,u as w,h as o,_ as H}from"./index-PzkWDZuX.js";import{H as x,T as B,O as T}from"./OverlapSecondSection-OxVB6xdz.js";import{C as V}from"./ConcertItemSection-DZCscGqc.js";const D={class:"history-page"},E={class:"year-navigation"},F={class:"year-buttons"},I=["onClick"],O={key:0,class:"loading"},j={key:1,class:"error"},N={key:2,class:"history-content"},Y=m({__name:"HistoryView",setup($){const c=u(!0),s=u(""),r=u(null),k=w(),p=["2024","2023"],b=e=>{k.push(`/history/${e}`)},h=S(()=>r.value?.content?[...r.value.content].sort((e,n)=>e.index-n.index):[]),f=async()=>{try{c.value=!0,s.value="";const e=await fetch("/src/assets/page_data/history/history_2024.json");if(!e.ok)throw new Error("Failed to fetch history data");const n=await e.json();r.value=n}catch(e){s.value=e instanceof Error?e.message:"加载数据失败",console.error("加载历史数据失败:",e)}finally{c.value=!1}};return C(()=>{f()}),(e,n)=>(o(),a("div",D,[l("div",E,[n[0]||(n[0]=l("h2",null,"选择年份查看历史内容",-1)),l("div",F,[(o(),a(d,null,y(p,t=>l("button",{key:t,onClick:_=>b(t),class:"year-btn"},v(t)+"年 ",9,I)),64))])]),c.value?(o(),a("div",O,"加载中...")):s.value?(o(),a("div",j,v(s.value),1)):r.value?(o(),a("div",N,[(o(!0),a(d,null,y(h.value,(t,_)=>(o(),a(d,{key:_},[t.type==="HeroSection"?(o(),i(x,{key:0,"background-image":t.background_image,title:t.title,"title-align":t.title_align,"title-margin":t.title_margin},null,8,["background-image","title","title-align","title-margin"])):t.type==="TabbedContentSection"?(o(),i(B,{key:1,tabs:t.tabs||[],title:t.title||""},null,8,["tabs","title"])):t.type==="OverlapSecondSection"?(o(),i(T,{key:2,title:t.title||"",content:t.content||"","background-image":t.background_image||"",links:t.links||[]},null,8,["title","content","background-image","links"])):t.type==="ConcertItemSection"?(o(),i(V,{key:3,items:t.items||[],title:t.title,tabs:t.tabs},null,8,["items","title","tabs"])):g("",!0)],64))),128))])):g("",!0)]))}}),q=H(Y,[["__scopeId","data-v-5023ef0d"]]);export{q as default};

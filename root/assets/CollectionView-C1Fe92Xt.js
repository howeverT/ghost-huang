import{d as C,r as d,c as B,o as L,a as o,e as T,t as v,b as e,k as f,F as k,f as m,i as V,h as l,_ as D}from"./index-Cdwbs5Zv.js";const I={class:"collection-page"},E={key:0,class:"loading"},F={key:1,class:"error"},M={key:2,class:"content-container"},N={class:"left-section"},z=["src","alt"],P={class:"right-section"},R={class:"title"},S={class:"date"},q={class:"description"},A={class:"links-section"},H={class:"subtitle"},J={class:"links-list"},K=["href"],O={class:"arrow-navigation"},Q=["disabled"],U=["disabled"],W=C({__name:"CollectionView",setup(X){const s=V(),g=d(!0),_=d(""),c=d([]),n=d(0),r=d(!0),a=d(!1),u=B(()=>c.value.length===0?null:c.value[n.value]),w=async()=>{try{g.value=!0,_.value="";let t="/src/assets/page_data/collection/haoshengyin.json";s.path==="/collection/haoshengyin"?t="/src/assets/page_data/collection/haoshengyin.json":s.path==="/collection/tianci"?t="/src/assets/page_data/collection/tianci.json":s.path==="/collection/liutang"?t="/src/assets/page_data/collection/liutang.json":s.path==="/collection/oursong"?t="/src/assets/page_data/collection/oursong.json":s.path==="/collection/singer"?t="/src/assets/page_data/collection/singer.json":s.path==="/collection/hit"?t="/src/assets/page_data/collection/hit.json":s.path==="/collection/fresh"?t="/src/assets/page_data/collection/fresh.json":s.path==="/collection/mask"&&(t="/src/assets/page_data/collection/mask.json");const i=await fetch(t);if(!i.ok)throw new Error("Failed to fetch data");const h=await i.json();c.value=h,console.log("成功加载数据:",h)}catch(t){console.error("加载数据失败:",t),_.value=t instanceof Error?t.message:"加载数据失败"}finally{g.value=!1}},b=()=>{a.value||n.value>=c.value.length-1||(a.value=!0,r.value=!1,setTimeout(()=>{n.value++,setTimeout(()=>{r.value=!0,a.value=!1},100)},300))},j=()=>{a.value||n.value<=0||(a.value=!0,r.value=!1,setTimeout(()=>{n.value--,setTimeout(()=>{r.value=!0,a.value=!1},100)},300))};return L(()=>{w()}),(t,i)=>(l(),o("div",I,[g.value?(l(),o("div",E,"加载中...")):_.value?(l(),o("div",F,v(_.value),1)):c.value.length>0?(l(),o("div",M,[e("div",N,[e("div",{class:f(["image-container",{visible:r.value}])},[e("img",{src:u.value?.image[0]||"/src/assets/background/background.jpg",alt:u.value?.title,class:"main-image"},null,8,z)],2)]),e("div",P,[e("div",{class:f(["content-wrapper",{visible:r.value}])},[e("h1",R,v(u.value?.title),1),e("p",S,v(u.value?.date),1),e("p",q,v(u.value?.description),1),e("div",A,[(l(!0),o(k,null,m(u.value?.links,(h,y)=>(l(),o("div",{key:y,class:"link-group"},[e("h3",H,v(h.subtitle),1),e("div",J,[(l(!0),o(k,null,m(h.links,(p,x)=>(l(),o("a",{key:x,href:p.link,target:"_blank",rel:"noopener noreferrer",class:"link-item"},v(p.link_title),9,K))),128))])]))),128))])],2),e("div",O,[e("button",{onClick:j,disabled:n.value===0||a.value,class:"arrow-btn up-arrow",title:"上一项"},i[0]||(i[0]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M7 14L12 9L17 14",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),8,Q),e("button",{onClick:b,disabled:n.value===c.value.length-1||a.value,class:"arrow-btn down-arrow",title:"下一项"},i[1]||(i[1]=[e("svg",{width:"24",height:"24",viewBox:"0 0 24 24",fill:"none",xmlns:"http://www.w3.org/2000/svg"},[e("path",{d:"M7 10L12 15L17 10",stroke:"currentColor","stroke-width":"2","stroke-linecap":"round","stroke-linejoin":"round"})],-1)]),8,U)])])])):T("",!0)]))}}),Z=D(W,[["__scopeId","data-v-88d9cca8"]]);export{Z as default};

import{_ as C}from"./OverlapSecondSection-OxVB6xdz.js";import{d as A,r as _,c as d,a as i,e as T,b as e,t as c,F as p,f as b,k as B,n as I,h as o,_ as E}from"./index-PzkWDZuX.js";const j={class:"concert-item-section"},z={key:0,class:"section-title"},D={key:1,class:"tabs-section"},F={class:"tabs-list"},H=["onClick"],L={class:"tab-label"},N={class:"items-container"},V={class:"left-column"},M=["onClick"],O={class:"item-image"},R={class:"item-text"},G={class:"item-title"},J={class:"item-date"},K={class:"right-column"},Q=["onClick"],U={class:"item-image"},W={class:"item-text"},X={class:"item-title"},Z={class:"item-date"},tt={class:"pagination-controls"},et=["disabled"],st={class:"page-info"},nt=["disabled"],g=6,at=A({__name:"ConcertItemSection",props:{items:{},title:{},tabs:{}},setup(P){const l=P,m=_(l.tabs&&l.tabs.length>0?l.tabs[0].id:""),a=_(0),r=_(!1),y=d(()=>{if(l.tabs&&l.tabs.length>0){const s=l.tabs.find(t=>t.id===m.value);return s?s.items:[]}return l.items}),v=d(()=>Math.ceil(y.value.length/g)),f=d(()=>{const s=a.value*g,t=s+g;return y.value.slice(s,t)}),S=d(()=>f.value.filter((s,t)=>t%2===0)),x=d(()=>f.value.filter((s,t)=>t%2===1)),$=s=>{if(m.value!==s){const t=document.querySelector(".concert-item-section .items-container"),n=document.querySelector(".concert-item-section .tab-item.active");t&&(t.style.transition="opacity 0.3s ease, transform 0.3s ease",t.style.opacity="0",t.style.transform="translateY(20px)"),n&&n.style.setProperty("--brush-opacity","0"),setTimeout(()=>{m.value=s,a.value=0,setTimeout(()=>{const u=document.querySelector(".concert-item-section .tab-item.active");u&&u.style.setProperty("--brush-opacity","1"),t&&(t.style.opacity="1",t.style.transform="translateY(0)")},100)},300)}},q=()=>{r.value||a.value<=0||h(()=>{a.value--})},Y=()=>{r.value||a.value>=v.value-1||h(()=>{a.value++})},h=s=>{const t=document.querySelector(".concert-item-section .items-container");r.value=!0,t?(t.style.transition="opacity 0.3s ease, transform 0.3s ease",t.style.opacity="0",t.style.transform="translateY(20px)",setTimeout(()=>{s(),setTimeout(()=>{t&&(t.style.opacity="1",t.style.transform="translateY(0)"),r.value=!1},50)},300)):(s(),r.value=!1)},k=s=>{s.url&&window.open(s.url,"_blank")};return(s,t)=>(o(),i("div",j,[s.title?(o(),i("div",z,[e("h2",null,c(s.title),1),t[0]||(t[0]=e("p",{class:"section-description"},"首页仅显示6个视频链接，可下拉点击下面的箭头来切换页数",-1))])):T("",!0),s.tabs&&s.tabs.length>0?(o(),i("div",D,[e("div",F,[(o(!0),i(p,null,b(s.tabs,n=>(o(),i("div",{key:n.id,class:B(["tab-item",{active:m.value===n.id}]),onClick:u=>$(n.id)},[e("span",L,c(n.label),1)],10,H))),128))])])):T("",!0),e("div",N,[e("div",V,[(o(!0),i(p,null,b(S.value,(n,u)=>(o(),i("div",{key:u,class:"item-content",onClick:w=>k(n)},[e("div",O,[e("div",{class:"image-bg",style:I({backgroundImage:`url(${n.image||"/src/assets/background/History2024.jpg"})`})},null,4)]),e("div",R,[e("h3",G,c(n.title),1),e("p",J,c(n.date),1)])],8,M))),128))]),e("div",K,[(o(!0),i(p,null,b(x.value,(n,u)=>(o(),i("div",{key:u,class:"item-content",onClick:w=>k(n)},[e("div",U,[e("div",{class:"image-bg",style:I({backgroundImage:`url(${n.image||"/src/assets/background/History2024.jpg"})`})},null,4)]),e("div",W,[e("h3",X,c(n.title),1),e("p",Z,c(n.date),1)])],8,Q))),128))])]),e("div",tt,[e("button",{class:"pagination-btn prev-btn",disabled:a.value===0||r.value,onClick:q},t[1]||(t[1]=[e("img",{src:C,alt:"上一页",class:"chevron-icon prev-icon"},null,-1)]),8,et),e("span",st,c(a.value+1)+" / "+c(v.value),1),e("button",{class:"pagination-btn next-btn",disabled:a.value===v.value-1||r.value,onClick:Y},t[2]||(t[2]=[e("img",{src:C,alt:"下一页",class:"chevron-icon next-icon"},null,-1)]),8,nt)])]))}}),ct=E(at,[["__scopeId","data-v-037195f2"]]);export{ct as C};
